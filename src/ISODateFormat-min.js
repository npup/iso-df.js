var ISODateFormat=function(){function e(a){typeof a=="undefined"&&(a=d.date);this.type=a}function l(a){var b;b=[c(a.getFullYear(),4),c(a.getMonth()+1,2),c(a.getDate(),2)].join("-");if(this.type===d.dateTime)b+=" "+[c(a.getHours(),2),c(a.getMinutes(),2)].join(":");return b}function m(a){var b=null;a=n.exec(a);var f,g,h,i=0,j=0,k=0;if(a){f=~~a[1];g=~~a[2];h=~~a[3];if(a[4])if(this.type!=d.dateTime)return null;else{i=~~a[4];j=~~a[5];a[6]&&(k=~~a[6])}else if(this.type!=d.date)return null;b=new Date(f,g-1,h,i,j,k);if(b.getFullYear()!==f||b.getMonth()!==g-1||b.getDate()!==h)b=null}return b}function c(a,b){a=""+a;return Array(1+b-a.length).join("0")+a}var n=/^\s*(\d{4})-([01]\d)-([0123]\d)[T ]?(?:(\d{2}):(\d{2})(?::(\d{2}))?)?\s*$/;e.prototype={constructor:e,parse:m,format:l};var d={date:"date",dateTime:"dateTime"};return{date:"date",dateTime:"dateTime",create:function(a){return new e(a)}}}();
var ISODateFormat=function(){function b(a){typeof a=="undefined"&&(a=e.date),this.type=a}function c(a){var b;return b=[f(a.getFullYear(),4),f(a.getMonth()+1,2),f(a.getDate(),2)].join("-"),this.type===e.dateTime&&(b+=" "+[f(a.getHours(),2),f(a.getMinutes(),2)].join(":")),b}function d(b){var c=null,d=a.exec(b),f,g,h,i,j,k=0,l=0,m=0;if(d){f=~~d[1],g=~~d[2],h=~~d[3];if(d[4]){if(this.type!=e.dateTime)return null;k=~~d[4],l=~~d[5],d[6]&&(m=~~d[6])}else if(this.type!=e.date)return null;c=new Date(f,g-1,h,k,l,m),c.getFullYear()!==f||c.getMonth()!==g-1||c.getDate()!==h?c=null:this.type==e.dateTime&&(c.getHours()!==k||c.getMinutes()!==l)&&(c=null)}return c}function f(a,b){var c=""+a;return Array(1+b-c.length).join("0")+c}var a=/^\s*(\d{4})-([01]\d)-([0123]\d)[T ]?(?:(\d{2}):(\d{2})(?::(\d{2}))?)?\s*$/;b.prototype={constructor:b,parse:d,format:c};var e={date:"date",dateTime:"dateTime"};return{date:"date",dateTime:"dateTime",create:function(){return new b(arguments[0])}}}();